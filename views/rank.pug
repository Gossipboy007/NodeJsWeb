-function toPercent(point){
-    var str=Number(point*100).toFixed(1);
-    str+="%";
-    return str;
-}
-var score_1=toPercent((scores[1]/scores[0])+0.09)
-var score_2=toPercent((scores[2]/scores[0])+0.09)
-var score_3=toPercent((scores[3]/scores[0])+0.09)
-var score_4=toPercent((scores[4]/scores[0])+0.09)
-var score_5=toPercent((scores[5]/scores[0])+0.09)
-var score_6=toPercent((scores[6]/scores[0])+0.09)
-if(name=='登录'){
-name_1='login';
-out='help';
-}else{
-name_1='user';
-out='loginout';
-}
doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    link(href='https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css', rel='stylesheet')
    link(rel='stylesheet', href='stylesheets/style_rank.css')
    title Rank
    link(rel='shortcut icon', href='/img/favicon_3.ico')
    link(rel='bookmark', href='/img/favicon_3.ico')
  body
    .navbar.navbar-default.navbar-static-top(style='margin-bottom: 0')
      ul.nav.navbar-nav
        li
          a(href='/')
            span.glyphicon.glyphicon-home
            | abCTF
        li
          a(href='/problems') 题目列表
        li.active
          a(href='/rank') 排行榜
        li
          a(href='/comment') 留言板
      ul.nav.navbar-nav.pull-right
        li
          a(href='#myModal', data-toggle='modal')
            span.glyphicon.glyphicon-user
            |  #{name}
        li
          a(href=out)
            span.glyphicon.glyphicon-log-in
            |  #{outuser}
    .alert.alert-success(role='alert')
      h4.alert-heading(style='text-align: center;font-size:50px') CTF比赛排行榜
      button.btn.btn-primary(type='button') 点击刷新
      p.mb-0
    .container
      // 图形显示
      .skillbar.clearfix(data-percent='100%')
        .skillbar-title(style='background: #d35400;')
          span #{users[0]}
        .skillbar-bar(style='background: #e67e22;')
        .skill-bar-percent #{scores[0]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_1)
        .skillbar-title(style='background: #2980b9;')
          span #{users[1]}
        .skillbar-bar(style='background: #3498db;')
        .skill-bar-percent #{scores[1]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_2)
        .skillbar-title(style='background: #2c3e50;')
          span #{users[2]}
        .skillbar-bar(style='background: #2c3e50;')
        .skill-bar-percent #{scores[2]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_3)
        .skillbar-title(style='background: #46465e;')
          span #{users[3]}
        .skillbar-bar(style='background: #5a68a5;')
        .skill-bar-percent #{scores[3]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_4)
        .skillbar-title(style='background: #333333;')
          span #{users[4]}
        .skillbar-bar(style='background: #525252;')
        .skill-bar-percent #{scores[4]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_5)
        .skillbar-title(style='background: #27ae60;')
          span #{users[5]}
        .skillbar-bar(style='background: #2ecc71;')
        .skill-bar-percent #{scores[5]}
      // End Skill Bar
      .skillbar.clearfix(data-percent=score_6)
        .skillbar-title(style='background: #124e8c;')
          span #{users[6]}
        .skillbar-bar(style='background: #4288d0;')
        .skill-bar-percent #{scores[6]}
      // End Skill Bar
      table.table.table-striped.table-inverse.table-responsive
        thead.thead-inverse
          tr
            th.rank 排名
            th.name 队伍
            th.score 分数
        tbody
          -for(var i=0;i<len;i++){
          tr
            td.rank #{i+1}
            td.name #{users[i]}
            td.score #{scores[i]}
          -}
    script(src='https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js')
    script(src='https://cdn.bootcss.com/twitter-bootstrap/3.3.7/js/bootstrap.min.js')
    script.
      jQuery(document).ready(function () {
      jQuery('.skillbar').each(function () {
      jQuery(this).find('.skillbar-bar').animate({
      width: jQuery(this).attr('data-percent')
      }, 3000);
      });
      });
